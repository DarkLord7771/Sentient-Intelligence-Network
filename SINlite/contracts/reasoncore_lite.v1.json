{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Reasoncore Lite Contract",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "version": { "type": "string" },
    "sparsityPolicyName": { "type": "string" },
    "maxActiveChannelsDrift": { "type": "number" },
    "maxActiveChannelsEmotion": { "type": "number" },
    "maxActiveGlyphs": { "type": "number" },
    "drift": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "intensity": { "$ref": "#/definitions/range" },
        "momentum": { "$ref": "#/definitions/range" },
        "anchor": { "$ref": "#/definitions/range" },
        "bias": { "$ref": "#/definitions/range" }
      },
      "required": ["intensity", "momentum", "anchor", "bias"]
    },
    "bloom": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "seeds": { "$ref": "#/definitions/range" },
        "density": { "$ref": "#/definitions/range" },
        "variance": { "$ref": "#/definitions/range" }
      },
      "required": ["seeds", "density", "variance"]
    },
    "emotion": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "baseline": { "$ref": "#/definitions/range" },
        "target": { "$ref": "#/definitions/range" }
      },
      "required": ["baseline", "target"]
    },
    "glyph": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "contextuality": { "$ref": "#/definitions/range" },
        "limit": { "$ref": "#/definitions/range" }
      },
      "required": ["contextuality", "limit"]
    },
    "clampPolicy": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "drift": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "min": { "type": "number" },
            "max": { "type": "number" },
            "spikeThreshold": { "type": "number" }
          },
          "required": ["min", "max", "spikeThreshold"]
        },
        "bloom": { "$ref": "#/definitions/range" },
        "emotion": { "$ref": "#/definitions/range" }
      },
      "required": ["drift", "bloom", "emotion"]
    },
    "prohibitedBehaviors": {
      "type": "array",
      "items": { "type": "string" }
    },
    "notes": {
      "type": "array",
      "items": { "type": "string" }
    }
  },
  "required": [
    "version",
    "sparsityPolicyName",
    "drift",
    "bloom",
    "emotion",
    "glyph",
    "clampPolicy",
    "prohibitedBehaviors"
  ],
  "definitions": {
    "range": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "min": { "type": "number" },
        "max": { "type": "number" }
      },
      "required": ["min", "max"]
    }
  }
}
